# ════════════════════════════════════════════════════════
# Nexus v2 — Bootstrap Configuration
# ════════════════════════════════════════════════════════
# This file is used ONLY for initial bootstrap.
# All settings are stored in the database and managed
# through the Admin UI at http://localhost:8080/admin
#
# On first boot, values here are migrated into the DB.
# After that, editing this file has no effect.
# ════════════════════════════════════════════════════════

# Anthropic API Key (required for Claude models)
ANTHROPIC_API_KEY=sk-ant-your-key-here

# Admin API key (required — protects /api/admin/* endpoints)
ADMIN_API_KEY=change-me-to-a-random-secret

# PostgreSQL connection string (Supabase or local)
# For Supabase: postgresql+asyncpg://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
# For local: postgresql+asyncpg://postgres:password@localhost:5432/nexus
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/nexus

# Set to false to disable SSL for local PostgreSQL (default: true for Supabase)
DATABASE_SSL=false

# Server bind address and port
HOST=127.0.0.1
PORT=8080

# CORS allowed origins (comma-separated, default: http://localhost:8080)
ALLOWED_ORIGINS=http://localhost:8080

# ── Everything below is optional on first boot ──
# These will be migrated to the DB and can then be
# managed from the Admin UI.

# Ollama (local models)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=kimi-k2.5:cloud

# Routing (0=always Claude, 100=always local)
COMPLEXITY_THRESHOLD=60

# GitHub plugin (get token at github.com/settings/tokens)
GITHUB_TOKEN=

# Telegram bot (get token from @BotFather)
TELEGRAM_BOT_TOKEN=
TELEGRAM_ALLOWED_USERS=

# ── OAuth 2.0 Authentication (optional) ──
# Enable auth to require Google sign-in for all users.
# Set AUTH_ENABLED=true and provide Google OAuth credentials
# from https://console.cloud.google.com/apis/credentials
AUTH_ENABLED=false
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
AUTH_WHITELIST_MODE=open
